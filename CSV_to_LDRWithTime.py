import csv

# Data mentah kamu
ldr_data_str = """
3245
2928
2731
2661
2494
2342
2416
2602
2534
2173
2065
2269
2196
1873
2256
2877
2978
2254
2783
3785
2982
2278
2829
3422
3501
2715
2505
3471
3262
2374
2990
3881
3823
2512
3018
4095
3122
2379
3249
4095
3472
2466
4095
3603
2944
4091
3747
2722
4095
3471
2943
3472
2325
3375
3163
2257
2506
2021
2420
2310
2012
2301
2455
2114
2035
2415
2422
2004
2510
2865
2451
2670
3937
3521
2498
3252
3573
2806
2840
4095
3671
2531
3266
3481
2533
3003
4095
3891
2381
3541
4095
2559
2864
4095
4016
2422
3229
4095
2993
2267
3548
3843
2117
2721
3543
2926
2001
3407
4095
2173
2800
4095
4095
2504
2799
4095
2693
2642
4095
3924
2231
3559
4095
2491
2341
4095
3909
1759
3300
4095
2386
3663
4095
3059
2484
4095
3669
2933
4095
4095
2399
3994
4095
2549
2891
3259
2375
2462
4095
4095
1894
3744
4095
1878
3301
4095
4095
2288
3202
3853
2698
2615
2944
2447
3462
4095
2943
2800
3906
2609
2444
3967
3983
2199
2750
4095
3038
1830
4095
4095
1789
2672
3602
2037
3235
4095
4095
2422
2880
3299
2535
2911
3335
2912
2443
3443
3264
2319
2800
2929
2117
3305
4095
3298
1762
2941
2326
1680
3151
3462
2241
3070
3094
2425
2769
3344
2657
2842
3507
3155
2325
2755
2663
2059
2868
3558
2494
1967
3409
2859
1707
3883
3207
1664
2813
4095
2254
2673
3104
2647
2555
3328
2851
2649
3291
2953
2518
3505
4047
2342
2645
2601
1957
2957
2486
1840
2939
2453
1498
2995
3392
2001
2528
2192
2235
3355
3598
2394
2943
2848
2384
2934
3341
2176
2854
2981
2113
2531
3955
2734
2323
3692
3207
2031
2529
2822
2119
3559
4095
2937
2542
3759
2707
2906
3786
3113
2559
2933
2715
"""

# Ubah jadi list angka
ldr_values = [int(value.strip()) for value in ldr_data_str.strip().splitlines() if value.strip()]

# Asumsi sampling rate: 100ms sekali (10 data per detik)
sampling_interval_ms = 100

# Buat file CSV
csv_filename = 'testdatalampu.csv'
with open(csv_filename, mode='w', newline='') as csv_file:
    writer = csv.writer(csv_file)
    writer.writerow(['timestamp', 'ldr_value'])  # Header wajib
    for idx, value in enumerate(ldr_values):
        timestamp = idx * sampling_interval_ms
        writer.writerow([timestamp, value])

print(f"File '{csv_filename}' berhasil dibuat! Siap upload ke Edge Impulse!")
